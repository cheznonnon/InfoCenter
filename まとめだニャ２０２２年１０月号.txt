<pre style="font-family:Meiryo,sans-serif;">
</pre>

----------==========----------==========----------==========----------

■まとめだニャ２０２２年１０月号

[ １０月１０日 ]

◇ニューフィーチャー

■Nonnon Paint for Mac

Grabber の選択枠がアニメーションするニャ

Grabber で Ctrl+C と Ctrl+V ができるようになったニャ

Win32 のマルチレイヤーが編集できるようになったニャ
まだ少し機能が足りていないニャ

Clear Canvas と Color Replacer が付いたニャ

マルチグラブの消しゴムがサポートされたニャ
F2 キーの Fork が付いたニャ
Alpha Tweaker が付いたニャ
レイヤーウィンドウにポップアップメニューが付いたニャ

部分再描画に耐えられるように少しコードを変えたニャ

ペンとグラバーが部分再描画によって劇的に軽くなったニャ

アルファ透明の時にチェッカー模様が付いたニャ

■mac/n_txtbox.c

キャレットの描画が部分再描画になったニャ
これは速くて軽くなったことを意味するニャ


◇バグフィクス

■CatPad for Mac

エンターを押して画面外に出る時のコードに誤りがあったニャ

クリックしたときにフェードをリセットするようにしたニャ
この方が自然に見えるためだニャ

■mac/n_txtbox.c

スクローラーの計算違いを直したニャ

右端に余白がないのを直したニャ

■mac/draw.c

n_mac_draw_frame() を NSFrameRect() ベースに変えたニャ


[ １０月２０日 ]

■Nonnon Paint for Mac

◇ニューフィーチャー

マルチレイヤーの一部の処理がキャッシュ処理によって２０％高速化したニャ

レイヤーウィンドウのフォントを変えたニャ

XMouse が実装されたニャ
ツールウィンドウにドロップしてもファイルを開けるようになったニャ

Grabber に Drop2Save が付いたニャ
デスクトップにドロップすると PNG で保存されるニャ

マルチレイヤーのセーブ時にパーセントを表示するようにしたニャ

■mac/n_txtbox.c

仕様が変更されたニャ
・ライン番号がデフォルトでオフになったニャ
・リストボックスのオンオフは .n_mode にオプションを付ける形式に変更になったニャ
・ONELINE が追加になったニャ
・リファクタして名前を改めた所があるニャ

■CatPad for Mac

検索フィールドが NSSearchField から NonnonTxtbox に変わったニャ
これで F3 キー連打とか Ctrl+F でエディタとフィールドの往復ができるようになるニャ

リードミーが付いたニャ

◇バグフィクス

■mac/n_button.c

メモリリークを直したニャ

■mac/n_scrollbar.c

メモリリークを直したニャ

■mac/n_txtbox.c

右サイドマージンの上下が足りないのを直したニャ

キーフォーカスがない時にもキャレットが点滅するのを直したニャ

■Nonnon Paint for Mac

レイヤーメニュー周りに不整合が起こるバグが多数発見されたので直したニャ

コンテキストを反映するようにしたニャ
レイヤーメニューのアップダウンとリサイザーのフィットＸＹが対象だニャ

リサイザーでグラバーの時にリサイズオプションを変更すると描画が壊れるのを直したニャ

Quick Stretch がマルチレイヤーに対応していないのを直したニャ

リードミーのタイトルが "Favorites" になっているのを直したニャ
コピペミスだニャ

■hunyapiyo3 と Freecell

ビルドするとクラッシュするのを直したニャ
free() を実行するかどうかという問題だニャ


[ １０月３０日 ]

◇ニューフィーチャー

■nmixer

NonnonScrollBar から Mac ライクなスライダーになったニャ
全部自力で実装したニャ

■mac/n_scrollbar.c

アローのフォントを変えたニャ

■win32/win_slider.c

nmixer から分離して抽象化したニャ

横にも置けるようになったニャ

■CatPad for Mac

ネコアイコンがまばたきするニャ


◇バグフィクス

■Nonnon Paint

一部のファイルが古いバージョンになっているので差し替えたニャ

■Nonnon Paint for Mac

ツールウィンドウのスクロールバーの左右の配置が不徹底なのを直したニャ

Quick Stretch を使うと描画エラーが出るのを直したニャ

Resizer でスクロールすると元画像に戻ってしまうのを直したニャ
Resizer がマルチレイヤーをサポートしたニャ

キャッシュ機構が誤作動する可能性を少なくしたニャ
少し重くなると思うニャ

ドット絵のような画像を編集する時の不便さが改善されたニャ
カーソル下に入力が入らない問題とマルチスレッドレンダリングが描画エラーを出す問題だニャ
マルチスレッドは当面オフになるニャ

■All

Win10 以降のダークモードでウィンドウタイトルが常に白になるのを直したニャ

クラシックの時にマック風フォーカスリングが誤作動するのを直したニャ
ビジュアル的にかなり不味いバグだったニャ
今年の６月２０日が壊れた日付だニャ

■game/timegettime.c

Win10 で精度がかなり悪いのが少し良くなったニャ
でも Win8.1 のようには動かないニャ


[ １０月３０日＃１ : １０月３１日 ]

◇ニューフィーチャー

■Nonnon for Mac

リードミーが付いたニャ


◇バグフィクス

■hunyapiyo3 for Mac

テキストのジャンプが不自然なのを直したニャ

■Nonnon Paint for Mac

拡大してスクロールを動かして縮小するとスクロールパラメータが不正になるのをの直したニャ


[ １０月３０日＃２ : １１月０６日 ]

◇ニューフィーチャー

■mac/n_txtbox.c

モードを ONELINE と FINDBOX に分離したニャ
そのためオプションの検索アイコンのプロパティ名が変更になったニャ

■CatPad for Mac

検索フィールドがもっとリッチになったニャ

タブインデントの修飾キーをシフトからオプション（オルト）に変更したニャ
ユーザビリティの観点からだニャ

■Nonnon Paint for Mac

シフトを押しながらクリックするとメニュークリックと同じ意味になるようにしたニャ
Magic Mouse 対応だニャ

■project/utf-8.c

テキストファイルを BOM 付きの UTF-8 ファイルにコンバートするニャ
フォルダをドロップすると全部一括処理するニャ

◇バグフィクス

■Nonnon Paint for Mac

クリックして移動しないとカーソルが変わらないのを直したニャ

フォーマッターがクラッシュするのを直したニャ

■Nonnon Freecell for Mac

モダンなマシンで自動移動が速すぎるのを直したニャ

■CatPad for Mac

UTF-16 で保存するとファイルが壊れるニャ
当面は UTF-8 で保存するニャ

全角のスペースが入力できないのを直したニャ

Command+5 から F5 に変えたニャ
Option+F5 で曜日を出力するニャ
挿入しないのを直したニャ

Monterey でウィンドウの位置とサイズが復元されないのを直したニャ


[ １０月３０日＃３ : １１月１１日 ]

◇ニューフィーチャー

■CatPad for Mac

Text2HTML が実装されたニャ

■Nonnon Paint for Mac

描画が少し速くなったニャ

■Project Checker for Mac

ドットファイルを除外するようにしたニャ

進捗状況を表示するスロバーを付けたニャ

■Nonnon Tools

自分用のちょっとしたツールだニャ
タイムスタンプをゼロにすることとドットファイルを削除することができるニャ

■mac/n_button.c

無効状態の時にブレンドするようにしたニャ

◇バグフィクス

■Nonnon Paint for Mac

入力が Zoom の値が大きいとずれるのを直したニャ

Zoom の値が大きい時に右と下のマージンが上書きされてしまうのを直したニャ

Zoom で１以上の時にシャフトをクリックすると 1/2 になるのを 1 になるように改めたニャ

リサイザーでリサイズした後タイトルバーのサイズが変わらないのを直したニャ

メインアイコンを少し小さくしたニャ
Apple のガイドラインに少し従ったニャ
スクワークルはフォトショップのファイルしかないから対応できないニャ
アイコンキャッシュを更新するにはセーフブートが必要だニャ

レイヤーを開いている時に Grabber のドロップをすると壊れてしまうのを直したニャ
ついでにコンテキストを実装してドロップできない時はそもそもにオフになるようにしたニャ

Grabber で Zoom が大きな値になると枠がずれるのを直したニャ

Grabber 有効時にドロップした時に枠がアニメーションしないのを直したニャ

■CatPad for Mac

検索履歴が日本語だと文字化けというか壊れてしまうのを直したニャ

１文字だけコピペすると奇妙な動作をするのを直したニャ

■Project Checker for Mac

タイムスタンプが更新されないのを直したニャ
Mac では utime() は sys/utime.h でなくて utime.h になるニャ

■mac/n_txtbox.c

カットとペーストで改行の扱いに不正確な所があるのを直したニャ

タブをクリックした時に左右半分に分割するコードが不正確なのを直したニャ


[ １０月３０日＃４ : １１月１２日 ]

◇ニューフィーチャー

■Mac

Finder や Dock にドロップできるようになったニャ


◇バグフィクス

■Nonnon Paint for Mac

Grabber で Zoom が大きな値になると枠がずれるのを直したニャ

Grabber 有効時にドロップした時に枠がアニメーションしないのを直したニャ

■mac/n_txtbox.c

マウスでクリックした時にキャレットが適切にセットされないのを直したニャ
前回タブの絡みで直した気がして治ってなかったニャ

コピーに失敗することがあるのを直したニャ


[ １０月３０日＃５ : １１月１３日 ]

◇ニューフィーチャー

■Nonnon Paint for Mac

マルチレイヤーのウィンドウのリストボックスでシフトを押しながら上下すると移動できるニャ

◇バグフィクス

■Nonnon Paint for Mac

レイヤーメニューで Up/Down をした時にリストが再描画されないのを直したニャ

ウィンドウの位置を忘れてしまうのを直したニャ

■mac/n_txtbox.c

LISTBOX の時にフォーカスが画面外に出てもスクロールしないのを直したニャ


[ １０月３０日＃６ : １１月１４日 ]

◇バグフィクス

■Nonnon Paint for Mac

キャンバスのスクロールバーをドラッグする時にウィンドウ外にカーソルが出ると、
スクロールが止まってしまうのを直したニャ
XMouse の機能がコンフリクトしていたニャ

最小化から復帰するとシステム全体が壊れてしまうのを直したニャ

■hunyapiyo for Mac

結果発表の時のサウンド再生待ちが遅いのを直したニャ


[ １０月３０日＃７ : １１月１５日 ]

■mac/n_txtbox.c

選択中にキャレットを動かすと起点からの位置になるのを終点からの位置に直したニャ

キャレットが画面外に出た時にセンタリングするのを行を進むのに改めたニャ
検索 UI とコンフリクトしていたニャ


[ １０月３０日＃８ : １１月１６日 ]

■mac/n_txtbox.c

コピー時に改行をどう扱うかが不正確なのを直したニャ

■Nonnon Paint for Mac

Grabber の再選択が不便なのを直したニャ


[ １０月３０日＃９ : １１月１７日 ]

■mac/n_txtbox.c

コピー時に改行をどう扱うかが不正確なのが直ってなかったニャ

■Nonnon Paint for Mac

カーソルが適切でないのを直したニャ

XMouse を全ウィンドウに適用するようにしたニャ


[ １０月３０日＃１０ : １１月１８日 ]

■Nonnon Paint for Mac

アニメーション枠が Zoom の値によってどんどん大きくなるのを一定で止めることにしたニャ

Grab N Drag が Zoom の値が大きいと機能しないのを直したニャ

Mix が 100 の時で Size が 1 でないと機能しないのを直したニャ

Size が大きい時に円の右側と下側が欠けるのを直したニャ

■Mac

メインメニューのリードミーとバージョン情報の配置を統一したニャ


[ １０月３０日＃１１ : １１月１９日 ]

■Nonnon Paint for Mac

ペン入力時にカーソルがキャンバス外に出るとアローに戻ってしまうのを直したニャ

XMouse がコンフリクトしてキャンバス外でクリックを離すと誤作動するのを直したニャ

■mac/n_button.c

押し逃げができるのを直したニャ

■Marie for Mac

関連付けた時に起動時に Drop Here 画面がチラッと見えるのを直したニャ


[ １０月３０日＃１２ : １１月２０日 ]

■mac/n_button.c

押し逃げ対策が不完全だったニャ


[ １０月３０日＃１３ : １１月２１日 ]

◇ニューフィーチャー

■mac/n_txtbox.c

Page Up/Down キーをサポートしたニャ


◇バグフィクス

■mac/n_txtbox.c

Insert キーを押すと [?] と出力されるのを直したニャ

確定していない状態で IME をオフにすると誤作動するのを直したニャ

■Nonnon Paint for Mac

ボタンとレイヤーリストボックスに入力が２回連続で入ってしまうのを直したニャ
デリゲートがもつれていたニャ


[ １０月３０日＃１４ : １１月２２日 ]

◇バグフィクス

■Nonnon Paint for Mac

押し逃げ対策でツールボタンが押した表示にならなくなっていたのを直したニャ
１０月３０日＃１３で導入されたバグだニャ
もうしどろもどろだニャ

■mac/n_txtbox.c

キャンバス外にキャレットが出る時に不正確なのを直したニャ


[ １０月３０日＃１５ : １１月２３日 ]

◇バグフィクス

■Nonnon Paint for Mac

レイヤー名が保存されない問題が出たニャ
最近導入されたバグだニャ
内部コードの混乱の問題だニャ

リードミーに書いてある「Shift + Arrow」は機能していないので直したニャ

◇ニューフィーチャー

■mac/n_txtbox.c

デリゲートの実装方法を変えたニャ
"self" を "delegate"  にセットしたらマスクオプションで個別にオンにするのニャ

----------==========----------==========----------==========----------

